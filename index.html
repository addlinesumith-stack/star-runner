<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Star Runner - Platform Adventure</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  font-family: Arial, sans-serif;
}
#gameContainer {
  text-align: center;
}
#gameCanvas {
  border: 4px solid #fff;
  border-radius: 8px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.3);
  background: #87CEEB;
}
#ui {
  color: #fff;
  font-size: 20px;
  margin-bottom: 10px;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}
</style>
</head>
<body>
<div id="gameContainer">
  <div id="ui">Level: <span id="level">1</span> | Lives: <span id="lives">3</span> | Score: <span id="score">0</span></div>
  <canvas id="gameCanvas" width="800" height="600"></canvas>
</div>
<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

// Game variables
let level = 1;
let lives = 3;
let score = 0;

// Player object
const player = {
  x: 50,
  y: 500,
  width: 30,
  height: 40,
  velocityX: 0,
  velocityY: 0,
  speed: 5,
  jumpPower: 13,
  grounded: false,
  color: '#FF0000'
};

// Platforms
const platforms = [
  { x: 0, y: 580, width: 800, height: 20 },
  { x: 200, y: 450, width: 150, height: 20 },
  { x: 450, y: 380, width: 150, height: 20 },
  { x: 150, y: 310, width: 120, height: 20 },
  { x: 550, y: 240, width: 120, height: 20 }
];

// Goal
const goal = { x: 700, y: 200, width: 40, height: 40 };

// Coins
const coins = [
  { x: 225, y: 420, collected: false },
  { x: 475, y: 350, collected: false },
  { x: 175, y: 280, collected: false }
];

// Input
const keys = {};

// Game constants
const GRAVITY = 0.5;
const FRICTION = 0.8;

// Update game state
function update() {
  // Apply gravity
  player.velocityY += GRAVITY;
  
  // Horizontal movement
  if (keys['ArrowLeft']) {
    player.velocityX = -player.speed;
  } else if (keys['ArrowRight']) {
    player.velocityX = player.speed;
  } else {
    player.velocityX *= FRICTION;
  }
  
  // Jump
  if (keys['ArrowUp'] && player.grounded) {
    player.velocityY = -player.jumpPower;
    player.grounded = false;
  }
  
  // Apply velocities
  player.x += player.velocityX;
  player.y += player.velocityY;
  
  // Check platform collisions
  player.grounded = false;
  platforms.forEach(platform => {
    if (player.x < platform.x + platform.width &&
        player.x + player.width > platform.x &&
        player.y + player.height > platform.y &&
        player.y + player.height < platform.y + platform.height &&
        player.velocityY >= 0) {
      player.y = platform.y - player.height;
      player.velocityY = 0;
      player.grounded = true;
    }
  });
  
  // Boundaries
  if (player.x < 0) player.x = 0;
  if (player.x + player.width > canvas.width) player.x = canvas.width - player.width;
  if (player.y > canvas.height) {
    lives--;
    if (lives > 0) {
      resetPlayer();
    } else {
      alert('Game Over! Score: ' + score);
      resetGame();
    }
  }
  
  // Collect coins
  coins.forEach(coin => {
    if (!coin.collected &&
        player.x < coin.x + 10 &&
        player.x + player.width > coin.x - 10 &&
        player.y < coin.y + 10 &&
        player.y + player.height > coin.y - 10) {
      coin.collected = true;
      score += 100;
    }
  });
  
  // Check goal
  if (player.x < goal.x + goal.width &&
      player.x + player.width > goal.x &&
      player.y < goal.y + goal.height &&
      player.y + player.height > goal.y) {
    score += 500;
    level++;
    alert('Level Complete! Score: ' + score);
    resetPlayer();
  }
  
  // Update UI
  document.getElementById('level').textContent = level;
  document.getElementById('lives').textContent = lives;
  document.getElementById('score').textContent = score;
}

// Draw everything
function draw() {
  // Clear canvas
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  
  // Draw platforms
  ctx.fillStyle = '#8B4513';
  platforms.forEach(platform => {
    ctx.fillRect(platform.x, platform.y, platform.width, platform.height);
  });
  
  // Draw coins
  coins.forEach(coin => {
    if (!coin.collected) {
      ctx.fillStyle = '#FFD700';
      ctx.beginPath();
      ctx.arc(coin.x, coin.y, 10, 0, Math.PI * 2);
      ctx.fill();
    }
  });
  
  // Draw goal
  ctx.fillStyle = '#FFD700';
  ctx.fillRect(goal.x, goal.y, goal.width, goal.height);
  ctx.fillStyle = '#FFF';
  ctx.font = '30px Arial';
  ctx.fillText('â˜…', goal.x + 8, goal.y + 32);
  
  // Draw player
  ctx.fillStyle = player.color;
  ctx.fillRect(player.x, player.y, player.width, player.height);
}

// Game loop
function gameLoop() {
  update();
  draw();
  requestAnimationFrame(gameLoop);
}

// Reset player position
function resetPlayer() {
  player.x = 50;
  player.y = 500;
  player.velocityX = 0;
  player.velocityY = 0;
}

// Reset game
function resetGame() {
  level = 1;
  lives = 3;
  score = 0;
  resetPlayer();
  coins.forEach(coin => coin.collected = false);
}

// Event listeners
window.addEventListener('keydown', e => {
  keys[e.key] = true;
});

window.addEventListener('keyup', e => {
  keys[e.key] = false;
});

// Start game
gameLoop();
</script>
</body>
</html>
